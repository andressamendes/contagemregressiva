<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para Milena ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@900&family=Courier+Prime:wght@400;700&display=block" rel="stylesheet">
    <style>
        :root {
            --st-red: #ff1e1e;
            --st-glow: 0 0 10px rgba(255, 30, 30, 0.8), 0 0 20px rgba(255, 30, 30, 0.4);
            --bg-dark: #080808;
        }

        body {
            font-family: 'Courier Prime', monospace;
            overflow: hidden;
            background-color: var(--bg-dark);
            height: 100dvh;
            width: 100vw;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            color: #d1d5db;
        }

        /* --- EFEITOS CRT / TV ANTIGA --- */
        .scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.3));
            background-size: 100% 4px;
            z-index: 50; pointer-events: none; opacity: 0.6;
        }
        .vignette {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, rgba(0,0,0,0) 60%, rgba(0,0,0,0.9) 100%);
            z-index: 51; pointer-events: none;
        }

        /* --- EFEITO GLITCH (INTERFER√äNCIA) --- */
        @keyframes glitch-anim-1 {
            0% { clip-path: inset(20% 0 80% 0); transform: translate(-2px, 1px); }
            20% { clip-path: inset(60% 0 10% 0); transform: translate(2px, -1px); }
            40% { clip-path: inset(40% 0 50% 0); transform: translate(-2px, 2px); }
            60% { clip-path: inset(80% 0 5% 0); transform: translate(2px, -2px); }
            80% { clip-path: inset(10% 0 70% 0); transform: translate(-1px, 1px); }
            100% { clip-path: inset(30% 0 20% 0); transform: translate(1px, -1px); }
        }
        
        .glitch-active {
            animation: glitch-anim-1 0.2s infinite linear alternate-reverse;
            filter: hue-rotate(90deg) contrast(1.2);
        }

        /* --- BACKGROUND MUNDO INVERTIDO --- */
        .upside-down-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 50% 50%, #1a0b0b 0%, #000000 100%);
            z-index: -2;
        }
        
        .lightning-flash {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(255, 0, 0, 0.15);
            opacity: 0;
            z-index: -1;
            animation: flash 10s infinite random;
        }
        
        @keyframes flash {
            0%, 90%, 100% { opacity: 0; }
            92% { opacity: 0.6; }
            93% { opacity: 0; }
            94% { opacity: 0.4; }
            96% { opacity: 0; }
        }

        /* --- TIPOGRAFIA STRANGER THINGS --- */
        .st-title-container {
            position: relative;
            transform: scale(0.9);
            animation: zoomSlow 20s infinite alternate;
            cursor: pointer;
        }
        @keyframes zoomSlow { from { transform: scale(0.9); } to { transform: scale(1.0); } }

        .st-font { 
            font-family: 'Merriweather', serif; 
            font-weight: 900;
            text-transform: uppercase;
            -webkit-text-stroke: 1.5px var(--st-red); 
            color: transparent;
            text-shadow: 0 0 8px rgba(255, 30, 30, 0.6);
            letter-spacing: -2px;
            line-height: 0.9;
            transition: all 0.3s;
        }
        
        .st-title-container:active .st-font {
            text-shadow: 0 0 20px rgba(255, 30, 30, 1);
            filter: brightness(1.5);
        }
        
        .st-bar {
            height: 3px; background-color: var(--st-red);
            box-shadow: 0 0 10px var(--st-red);
            margin: 10px auto;
            width: 0;
            animation: expandBar 3s ease-out forwards 0.5s;
        }
        @keyframes expandBar { to { width: 60%; } }

        /* --- LUZES DE NATAL (PISCANDO) --- */
        .lights-container {
            position: absolute; top: -15px; width: 100%; display: flex; justify-content: space-around; z-index: 5;
        }
        .light-bulb {
            width: 12px; height: 20px; border-radius: 50%;
            animation: glow 1.5s infinite alternate;
            opacity: 0.3;
            transition: all 0.1s;
        }
        .l-red { background: #ff0000; box-shadow: 0 0 10px #ff0000; animation-delay: 0s; }
        .l-green { background: #00ff00; box-shadow: 0 0 10px #00ff00; animation-delay: 0.5s; }
        .l-yellow { background: #ffff00; box-shadow: 0 0 10px #ffff00; animation-delay: 1s; }
        .l-blue { background: #0000ff; box-shadow: 0 0 10px #0000ff; animation-delay: 1.5s; }
        
        @keyframes glow { 100% { opacity: 1; box-shadow: 0 0 20px currentColor; } }

        /* Estado fren√©tico das luzes */
        .frenetic-lights .light-bulb {
            animation-duration: 0.1s !important;
            opacity: 1 !important;
        }

        /* --- SPORES (CINZAS) --- */
        .spore {
            position: absolute; width: 3px; height: 3px;
            background: rgba(200, 200, 200, 0.5);
            border-radius: 50%; pointer-events: none;
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.3);
            animation: floatSpore 12s infinite linear;
        }
        @keyframes floatSpore {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translate(var(--mx), var(--my)); opacity: 0; }
        }

        /* --- CARD --- */
        .glass-panel {
            background: rgba(10, 10, 10, 0.7);
            border: 1px solid rgba(255, 30, 30, 0.4);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.15), inset 0 0 50px rgba(0,0,0,0.8);
            border-radius: 8px;
            backdrop-filter: blur(4px);
        }

        .timer-val { font-weight: 700; color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.7); font-family: 'Merriweather', serif; }
        .timer-label { color: var(--st-red); font-size: 0.6rem; letter-spacing: 2px; text-transform: uppercase; font-weight: bold; }
        
        .typing-effect { border-right: 3px solid var(--st-red); padding-right: 2px; animation: blink 1s step-end infinite; }
        @keyframes blink { 50% { border-color: transparent; } }

        /* OVERLAY INICIAL */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 999;
            display: flex; align-items: center; justify-content: center;
            transition: opacity 1s ease;
        }
        .overlay-disabled { pointer-events: none; opacity: 0.8; }

        /* MODAL CARTA */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.4s ease;
        }
        .modal-active { opacity: 1; pointer-events: auto; }
        
        .letter-paper {
            background: #e3e3dc; width: 90%; max-width: 480px; padding: 2rem;
            box-shadow: 0 0 30px rgba(200, 200, 200, 0.1); 
            transform: translateY(20px) scale(0.95);
            transition: transform 0.5s;
            color: #111; font-weight: bold;
            border: 2px solid #333;
            background-image: repeating-linear-gradient(#e3e3dc 0px, #e3e3dc 24px, #ccc 25px);
            line-height: 25px;
        }
        .modal-active .letter-paper { transform: translateY(0) scale(1); }

        /* Bot√µes */
        .btn-interact {
            background: rgba(50, 0, 0, 0.5); border: 1px solid var(--st-red); color: var(--st-red);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.2);
            transition: all 0.3s;
        }
        .btn-interact:active { background: var(--st-red); color: black; box-shadow: 0 0 20px var(--st-red); }

        .envelope-btn {
            position: absolute; bottom: 1.5rem; right: 1.5rem;
            background: #000; border: 1px solid var(--st-red); color: var(--st-red);
            border-radius: 50%; width: 3.5rem; height: 3.5rem;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(255, 30, 30, 0.4);
            z-index: 60; transition: transform 0.2s;
        }
        .envelope-btn:active { transform: scale(0.9); background: var(--st-red); color: #000; }

        @media (max-width: 380px) {
            .st-font { font-size: 2.5rem; }
            .timer-val { font-size: 2rem !important; }
        }
        
        #youtube-player { position: fixed; opacity: 0; pointer-events: none; }
        
        /* Elementos Flutuantes */
        .element-float {
            position: absolute; color: var(--st-red); text-shadow: 0 0 10px var(--st-red);
            animation: floatUp 2s linear forwards; pointer-events: none; z-index: 100;
        }
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0) scale(0.5); } 100% { opacity: 0; transform: translateY(-100px) scale(1.2); } }

        /* Estilos para Cap√≠tulos Animados */
        #chapter-text {
            transition: opacity 0.5s ease;
        }
    </style>
</head>
<body>

    <!-- Efeitos Visuais -->
    <div class="scanlines"></div>
    <div class="vignette"></div>
    <div class="upside-down-bg"></div>
    <div class="lightning-flash"></div>
    
    <!-- Luzes de Natal -->
    <div class="lights-container" id="lights-container">
        <div class="light-bulb l-red"></div>
        <div class="light-bulb l-green"></div>
        <div class="light-bulb l-yellow"></div>
        <div class="light-bulb l-blue"></div>
        <div class="light-bulb l-red"></div>
        <div class="light-bulb l-green"></div>
    </div>

    <div id="spores-container" class="absolute inset-0 overflow-hidden pointer-events-none z-0"></div>
    <div id="youtube-player"></div>

    <!-- TELA INICIAL -->
    <div id="start-overlay" class="overlay-disabled">
        <div class="flex flex-col items-center justify-center h-full w-full cursor-pointer z-50 p-6" onclick="startExperience()">
            
            <div class="st-title-container mb-12 text-center" onclick="triggerWaffles(event)">
                <h1 class="st-font text-6xl md:text-8xl leading-none">PARA<br>MILENA</h1>
                <div class="st-bar"></div>
                <!-- Cap√≠tulo Animado -->
                <p id="chapter-text" class="text-white font-bold tracking-[0.5em] text-xs uppercase mt-2 opacity-80 h-4">Cap√≠tulo Um: O In√≠cio</p>
            </div>

            <div class="flex flex-col items-center gap-4 mt-8">
                <p id="start-text" class="text-red-600 font-bold tracking-[0.2em] text-xs uppercase animate-pulse">Carregando...</p>
                <div id="start-icon" class="w-8 h-8 border-2 border-red-900 border-t-red-500 rounded-full animate-spin"></div>
            </div>
        </div>
    </div>

    <!-- CONTE√öDO PRINCIPAL (Adicionado ID para Glitch) -->
    <div id="main-content" class="relative z-10 w-full h-full flex flex-col items-center justify-center p-4 opacity-0 transition-opacity duration-1000 hidden">
        
        <div class="glass-panel w-full max-w-md p-6 text-center relative flex flex-col items-center max-h-[92dvh] overflow-y-auto custom-scrollbar">
            
            <h3 id="greeting-text" class="text-2xl text-white font-bold mb-4 mt-2 tracking-widest uppercase" style="text-shadow: 0 0 10px rgba(255,255,255,0.5);">Ol√°, Amor</h3>
            
            <!-- Adicionei ID para poder trocar o texto dinamicamente -->
            <p id="timer-label" class="text-[10px] tracking-[0.25em] uppercase text-gray-400 mb-8 font-bold">Contagem para nosso encontro</p>
            
            <!-- TIMER -->
            <div class="w-full mb-8 border-b border-red-900/50 pb-6">
                <div class="flex justify-center items-start gap-2 w-full text-white">
                    <div class="flex flex-col items-center w-1/4">
                        <span id="days" class="timer-val text-4xl md:text-5xl">00</span>
                        <span class="timer-label">Dias</span>
                    </div>
                    <span class="text-2xl text-red-600 mt-1">:</span>
                    <div class="flex flex-col items-center w-1/4">
                        <span id="hours" class="timer-val text-4xl md:text-5xl">00</span>
                        <span class="timer-label">Horas</span>
                    </div>
                    <span class="text-2xl text-red-600 mt-1">:</span>
                    <div class="flex flex-col items-center w-1/4">
                        <span id="minutes" class="timer-val text-4xl md:text-5xl">00</span>
                        <span class="timer-label">Min</span>
                    </div>
                    <span class="text-2xl text-red-600 mt-1">:</span>
                    <div class="flex flex-col items-center w-1/4">
                        <span id="seconds" class="timer-val text-4xl md:text-5xl w-[1.5em]">00</span>
                        <span class="timer-label">Seg</span>
                    </div>
                </div>
            </div>

            <!-- Timer Passado (Caixa pequena) -->
            <div id="small-timer-box" class="mb-8 w-full bg-black/50 rounded p-4 border-l-4 border-red-600">
                <p class="text-[9px] tracking-[0.2em] uppercase text-red-500 mb-2 font-bold">TEMPO DECORRIDO</p>
                <div class="flex items-center justify-center gap-2">
                    <p id="past-time" class="text-white text-md sm:text-lg font-bold font-mono">Calculando...</p>
                </div>
            </div>

            <!-- Frase -->
            <div class="min-h-[3rem] flex items-center justify-center mb-6 px-1">
                <h2 id="typewriter-text" class="text-xl text-red-100 font-bold text-center tracking-wider" style="text-shadow: 0 0 5px red;"></h2>
            </div>

            <!-- Bot√£o -->
            <div class="flex flex-col gap-3 w-full items-center pb-2">
                <button onclick="showLoveReason(event)" class="btn-interact px-6 py-3 rounded text-xs font-bold tracking-[0.2em] uppercase w-full max-w-xs">
                    Revelar Segredo
                </button>
            </div>
            
            <p id="love-reason" class="min-h-[1.5rem] mt-3 text-white font-bold text-sm transition-all duration-500 opacity-0 transform translate-y-2 px-2"></p>

            <div class="h-8"></div>
        </div>
    </div>

    <!-- Bot√£o Carta -->
    <button onclick="toggleLetter()" class="envelope-btn hidden" id="envelope-trigger" aria-label="Abrir carta">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    </button>

    <!-- Modal da Carta -->
    <div id="letter-modal" class="modal-overlay" onclick="toggleLetter()">
        <div class="letter-paper" onclick="event.stopPropagation()">
            <div class="absolute top-2 right-2 p-2 opacity-50 cursor-pointer text-black" onclick="toggleLetter()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </div>
            <h3 class="text-xl mb-4 text-center font-bold underline decoration-red-900 underline-offset-4">CONFIDENCIAL - HAWKINS LAB</h3>
            <div class="letter-content text-sm md:text-base">
                <p>Escrevo isso enquanto conto os segundos para te ver. Cada momento longe parece o Mundo Invertido, frio e escuro. Mas saber que logo estarei com voc√™ √© como ver as luzes acendendo na parede.</p>
                <p class="mt-4">Mal posso esperar pelo nosso dia 26. Amigos n√£o mentem, e meu amor por voc√™ tamb√©m n√£o.</p>
            </div>
            <div class="flex justify-end items-end mt-8 border-t border-gray-500 pt-2">
                <p class="text-right font-bold text-lg mr-2 mb-0">- Andressa (011)</p>
            </div>
        </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        // CONFIGURA√á√ïES
        const targetDate = new Date("2026-01-26T20:00:00").getTime();
        const firstKissDate = new Date("2025-09-07T23:00:00").getTime();
        const mainPhrase = "A gente se escolhe todo dia";
        
        const reasons = [
            "Amo o jeito que voc√™ sorri.", "Voc√™ me faz sentir em casa.",
            "Adoro nossas conversas infinitas.", "Seu abra√ßo √© meu lugar favorito.",
            "Com voc√™, o mundo fica mais leve.", "Amo cada detalhe seu.",
            "Voc√™ √© minha melhor escolha.", "Nossos planos s√£o meus sonhos."
        ];

        let player;
        let isPlayerReady = false;

        document.fonts.ready.then(() => {
            const startContent = document.getElementById('start-content');
            if(startContent) { startContent.classList.add('fonts-loaded-active'); }
        });

        // --- YOUTUBE API ---
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '1', width: '1', videoId: 'nbZTVUduKBY',
                playerVars: { 'playsinline': 1, 'controls': 0, 'loop': 1, 'autoplay': 0 },
                events: { 'onReady': onPlayerReady, 'onError': onPlayerError }
            });
        }

        function onPlayerReady() { isPlayerReady = true; updateStartScreenReady(); }
        function onPlayerError() { isPlayerReady = true; updateStartScreenReady(); }
        
        function updateStartScreenReady() {
            const textEl = document.getElementById('start-text');
            const iconEl = document.getElementById('start-icon');
            const overlay = document.getElementById('start-overlay');
            if(textEl) { 
                textEl.innerText = "TOQUE"; 
                textEl.classList.remove('animate-pulse'); textEl.classList.add('animate-bounce'); 
            }
            if(iconEl) { 
                iconEl.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>'; 
                iconEl.classList.remove('animate-spin'); 
                iconEl.className = "w-12 h-12 rounded-full bg-red-900/40 text-red-500 flex items-center justify-center border border-red-500 shadow-[0_0_15px_red]";
            }
            if(overlay) { overlay.classList.remove('overlay-disabled'); }
        }
        
        setTimeout(() => { if(!isPlayerReady) { isPlayerReady = true; updateStartScreenReady(); } }, 4000);

        // --- EASTER EGG: CHUVA DE WAFFLES ---
        function triggerWaffles(e) {
            e.stopPropagation();
            for(let i=0; i<15; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    createWaffleAt(x, -50);
                }, i * 150);
            }
        }

        function createWaffleAt(x, y) {
            const el = document.createElement('div');
            el.innerHTML = 'üßá';
            el.style.position = 'fixed';
            el.style.left = x + 'px'; el.style.top = y + 'px';
            el.style.fontSize = (Math.random() * 1.5 + 1.5) + 'rem';
            el.style.pointerEvents = 'none'; el.style.zIndex = '100';
            el.style.animation = `fall ${Math.random() * 2 + 2}s linear forwards`;
            
            if (!document.getElementById('fall-style')) {
                const style = document.createElement('style');
                style.id = 'fall-style';
                style.innerHTML = `@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }`;
                document.head.appendChild(style);
            }
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 4000);
        }

        // --- SISTEMA DE CAP√çTULOS ---
        const chapters = ["Cap√≠tulo Um: O In√≠cio", "Cap√≠tulo Dois: A Saudade", "Cap√≠tulo Tr√™s: O Reencontro"];
        let currentChapter = 0;
        
        function rotateChapters() {
            const el = document.getElementById('chapter-text');
            if(!el) return;
            
            setInterval(() => {
                el.style.opacity = '0';
                setTimeout(() => {
                    currentChapter = (currentChapter + 1) % chapters.length;
                    el.innerText = chapters[currentChapter];
                    el.style.opacity = '0.8';
                }, 500);
            }, 4000);
        }
        rotateChapters();

        // Intera√ß√£o de Toque (Cora√ß√µes Neon)
        document.addEventListener('click', (e) => {
            if(e.target.closest('button')) return;
            if(!e.target.closest('.st-title-container')) {
                createHeartAt(e.clientX, e.clientY);
            }
        });

        function createHeartAt(x, y) {
            const el = document.createElement('div');
            el.innerHTML = '‚ù§Ô∏è';
            el.className = 'element-float';
            el.style.left = x + 'px'; el.style.top = y + 'px';
            el.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
            el.style.filter = "drop-shadow(0 0 5px red)";
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 1500);
        }

        function startExperience() {
            if(!isPlayerReady) return;
            try { 
                if (player && player.playVideo) { 
                    player.unMute(); 
                    player.seekTo(30); 
                    player.setVolume(0); 
                    player.playVideo(); 
                    let vol = 0;
                    const fade = setInterval(() => {
                        if (vol < 100) { vol += 5; player.setVolume(vol); } else { clearInterval(fade); }
                    }, 100);
                } 
            } catch(e) {}

            setGreeting();
            const overlay = document.getElementById('start-overlay');
            const content = document.getElementById('main-content');
            const fab = document.getElementById('envelope-trigger');
            
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
                content.classList.remove('hidden');
                fab.classList.remove('hidden');
                void content.offsetWidth;
                content.classList.remove('opacity-0');
            }, 600);

            setInterval(updateTimers, 1000);
            updateTimers();
            startSpores();
            setTimeout(typeWriter, 1000);
        }

        function setGreeting() {
            const h = new Date().getHours();
            const el = document.getElementById('greeting-text');
            const greet = h < 12 ? "BOM DIA" : h < 18 ? "BOA TARDE" : "BOA NOITE";
            if(el) el.innerText = `${greet}, AMOR`;
        }

        function updateTimers() {
            const now = new Date().getTime();
            const distance = targetDate - now;
            const pastDiff = now - firstKissDate;

            // --- L√ìGICA DO CRON√îMETRO PEQUENO (EM BAIXO) ---
            // Sempre mostra detalhes completos
            if (pastDiff > 0) {
                const pd = Math.floor(pastDiff / (1000 * 60 * 60 * 24));
                const ph = Math.floor((pastDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const pm = Math.floor((pastDiff % (1000 * 60 * 60)) / (1000 * 60));
                const ps = Math.floor((pastDiff % (1000 * 60)) / 1000);
                
                // Se o timer principal ainda for contagem regressiva, atualiza o pequeno
                if (distance >= 0) {
                    document.getElementById('past-time').innerText = `${pd}d ${ph}h ${pm}m ${ps}s`;
                }
            }

            // --- L√ìGICA DO CRON√îMETRO PRINCIPAL ---
            if (distance < 0) {
                // SE O ENCONTRO J√Å PASSOU: O PRINCIPAL VIRA O TEMPO CORRIDO
                
                // Calcula detalhes completos do tempo corrido para o principal
                const pd = Math.floor(pastDiff / (1000 * 60 * 60 * 24));
                const ph = Math.floor((pastDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const pm = Math.floor((pastDiff % (1000 * 60 * 60)) / (1000 * 60));
                const ps = Math.floor((pastDiff % (1000 * 60)) / 1000);

                document.getElementById('days').innerText = String(pd).padStart(2, '0');
                document.getElementById('hours').innerText = String(ph).padStart(2, '0');
                document.getElementById('minutes').innerText = String(pm).padStart(2, '0');
                document.getElementById('seconds').innerText = String(ps).padStart(2, '0');
                
                // Atualiza o t√≠tulo do timer
                document.getElementById('timer-label').innerText = "NOSSA HIST√ìRIA CONTINUA...";
                
                // Esconde ou altera a caixa pequena para n√£o ficar duplicado
                document.getElementById('past-time').innerText = "Desde o in√≠cio...";

            } else {
                // SE AINDA N√ÉO CHEGOU: MOSTRA CONTAGEM REGRESSIVA
                const d = Math.floor(distance / (1000 * 60 * 60 * 24));
                const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const s = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('days').innerText = String(d).padStart(2, '0');
                document.getElementById('hours').innerText = String(h).padStart(2, '0');
                document.getElementById('minutes').innerText = String(m).padStart(2, '0');
                document.getElementById('seconds').innerText = String(s).padStart(2, '0');
            }
        }

        let typeIdx = 0;
        function typeWriter() {
            if (typeIdx < mainPhrase.length) {
                document.getElementById("typewriter-text").innerHTML += mainPhrase.charAt(typeIdx);
                typeIdx++; setTimeout(typeWriter, 100);
            } else {
                document.getElementById("typewriter-text").classList.remove("typing-effect");
            }
        }

        function toggleLetter() { 
            document.getElementById('letter-modal').classList.toggle('modal-active'); 
        }

        function showLoveReason(e) {
            e.stopPropagation();
            const el = document.getElementById('love-reason');
            el.classList.remove('opacity-100', 'translate-y-0');
            el.classList.add('opacity-0', 'translate-y-2');
            
            // Ativa efeito GLITCH e LUZES FREN√âTICAS
            const mainContent = document.getElementById('main-content');
            const lights = document.getElementById('lights-container');
            
            mainContent.classList.add('glitch-active');
            lights.classList.add('frenetic-lights');
            
            // Remove efeitos ap√≥s curto per√≠odo
            setTimeout(() => {
                mainContent.classList.remove('glitch-active');
                lights.classList.remove('frenetic-lights');
            }, 800);
            
            setTimeout(() => {
                el.innerText = reasons[Math.floor(Math.random() * reasons.length)];
                el.classList.remove('opacity-0', 'translate-y-2');
                el.classList.add('opacity-100', 'translate-y-0');
                
                const burst = document.createElement('div');
                burst.style.position = 'fixed';
                burst.style.top = '0'; burst.style.left = '0'; burst.style.width = '100%'; burst.style.height = '100%';
                burst.style.background = 'rgba(255,0,0,0.1)';
                burst.style.pointerEvents = 'none';
                burst.style.transition = 'opacity 0.5s';
                document.body.appendChild(burst);
                setTimeout(() => burst.style.opacity = '0', 100);
                setTimeout(() => burst.remove(), 600);
            }, 300);
        }

        function startSpores() {
            const container = document.getElementById('spores-container');
            for(let i=0; i<40; i++) {
                const p = document.createElement('div');
                p.classList.add('spore');
                p.style.left = Math.random() * 100 + '%';
                p.style.top = Math.random() * 100 + '%';
                const mx = (Math.random() * 40 - 20) + 'px';
                const my = (Math.random() * 40 - 20) + 'px';
                p.style.setProperty('--mx', mx); p.style.setProperty('--my', my);
                p.style.animationDelay = (Math.random() * 5) + 's';
                p.style.animationDuration = (Math.random() * 10 + 8) + 's';
                container.appendChild(p);
            }
        }
    </script>
</body>
</html>
